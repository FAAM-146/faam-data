{
  "$defs": {
    "DatasetMeta": {
      "properties": {
        "file_pattern": {
          "description": "Canonical filename pattern for this dataset",
          "title": "File Pattern",
          "type": "string"
        },
        "short_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A short name which can be used to uniquely identify this product",
          "title": "Short Name"
        },
        "canonical_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Canonical name of this dataset",
          "title": "Canonical Name"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Description of the dataset",
          "title": "Description"
        },
        "references": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/FAAMDataReference"
              },
              "type": "array"
            },
            {
              "maxItems": 2,
              "minItems": 2,
              "prefixItems": [
                {
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ],
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "References for this dataset",
          "title": "References"
        }
      },
      "required": [
        "file_pattern"
      ],
      "title": "DatasetMeta",
      "type": "object"
    },
    "Dimension": {
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "size": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "title": "Size"
        }
      },
      "required": [
        "name",
        "size"
      ],
      "title": "Dimension",
      "type": "object"
    },
    "FAAMDataReference": {
      "properties": {
        "title": {
          "description": "A brief title for the reference",
          "example": "Some paper",
          "title": "Title",
          "type": "string"
        },
        "doi": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The DOI of the reference",
          "example": "10.1234/5678",
          "title": "Doi"
        },
        "web": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A URL for the reference",
          "example": "https://www.example.com",
          "title": "Web"
        }
      },
      "required": [
        "title"
      ],
      "title": "FAAM Data Reference Schema",
      "type": "object"
    },
    "GlobalAttributes": {
      "properties": {
        "Conventions": {
          "description": "The conventions followed by this data",
          "example": "CF-1.9 ACDD-1.3 FAAM-0.5",
          "title": "Conventions",
          "type": "string"
        },
        "acknowledgement": {
          "description": "The acknowledgement for use of this data. Should read: Airborne data was obtained using the BAe-146-301 Atmospheric Research Aircraft [ARA] flown by Airtask Ltd and managed by FAAM Airborne Laboratory, jointly operated by UKRI and the University of Leeds for FAAM data.",
          "example": "Airborne data was obtained using the BAe-146-301 Atmospheric Research Aircraft [ARA] flown by Airtask Ltd and managed by FAAM Airborne Laboratory, jointly operated by UKRI and the University of Leeds",
          "title": "Acknowledgement",
          "type": "string"
        },
        "creator_address": {
          "description": "The address of the FAAM offices. Should read: Building 146, Cranfield University, College Road, Cranfield, Bedford. MK43 0AL. UK. for FAAM data.",
          "example": "Building 146, Cranfield University, College Road, Cranfield, Bedford. MK43 0AL. UK.",
          "title": "Creator Address",
          "type": "string"
        },
        "creator_email": {
          "description": "The email address of the data creator, or a generic FAAM email.",
          "example": "creator@faam.ac.uk",
          "title": "Creator Email",
          "type": "string"
        },
        "creator_institution": {
          "description": "The institute responsible for the creation of the data. Should read: FAAM Airborne Laboratory for FAAM data",
          "example": "FAAM Airborne Laboratory",
          "title": "Creator Institution",
          "type": "string"
        },
        "creator_name": {
          "description": "The name of the person or institute responsible for this data",
          "example": "A. N. Other",
          "title": "Creator Name",
          "type": "string"
        },
        "creator_type": {
          "description": "The type of creator. Should be one of person, institution, position",
          "example": "person",
          "title": "Creator Type",
          "type": "string"
        },
        "date": {
          "description": "Date of the flight",
          "example": "1970-01-01",
          "format": "date",
          "title": "Date",
          "type": "string"
        },
        "date_created": {
          "description": "ISO:8601 date/time file created, ideally yyyy-mm-ddTHH:MM:SSZ. Equivalent to revision_date.",
          "example": "1970-01-01T06:00:00Z",
          "format": "date-time",
          "title": "Date Created",
          "type": "string"
        },
        "flight_date": {
          "description": "Date of the flight",
          "example": "1970-01-01",
          "format": "date",
          "title": "Flight Date",
          "type": "string"
        },
        "flight_number": {
          "description": "The flight number",
          "example": "a001",
          "pattern": "[a-z][0-9]{3}",
          "title": "Flight Number",
          "type": "string"
        },
        "geospatial_bounds": {
          "description": "A well-known text representation of the flight envelope",
          "example": "",
          "title": "Geospatial Bounds",
          "type": "string"
        },
        "geospatial_bounds_crs": {
          "description": "Coordinate reference system for geospatial attributes.",
          "example": "EPSG:4979",
          "pattern": "EPSG:[0-9]+",
          "title": "Geospatial Bounds Crs",
          "type": "string"
        },
        "geospatial_lat_max": {
          "description": "Maximum latitude of the flight.",
          "example": 60.0,
          "maximum": 90.0,
          "minimum": -90.0,
          "title": "Geospatial Lat Max",
          "type": "number"
        },
        "geospatial_lat_min": {
          "description": "Minimum latitude of the flight.",
          "example": 50.0,
          "maximum": 90.0,
          "minimum": -90.0,
          "title": "Geospatial Lat Min",
          "type": "number"
        },
        "geospatial_lat_units": {
          "description": "The units for geospatial_lat_* attributes",
          "example": "degree_north",
          "title": "Geospatial Lat Units",
          "type": "string"
        },
        "geospatial_lon_max": {
          "description": "Maximum longitude of the flight",
          "example": 10.0,
          "exclusiveMaximum": 360.0,
          "exclusiveMinimum": -360.0,
          "title": "Geospatial Lon Max",
          "type": "number"
        },
        "geospatial_lon_min": {
          "description": "Minimum longitude of the flight",
          "example": -10.0,
          "exclusiveMinimum": -360.0,
          "maximum": 360.0,
          "title": "Geospatial Lon Min",
          "type": "number"
        },
        "geospatial_lon_units": {
          "description": "The units for geospatial_lon_* attributes",
          "example": "degree_east",
          "title": "Geospatial Lon Units",
          "type": "string"
        },
        "geospatial_vertical_max": {
          "description": "The maximum altitude of the flight",
          "example": 10000.0,
          "title": "Geospatial Vertical Max",
          "type": "number"
        },
        "geospatial_vertical_min": {
          "description": "The minimum altitude of the flight",
          "example": 100.0,
          "title": "Geospatial Vertical Min",
          "type": "number"
        },
        "geospatial_vertical_units": {
          "description": "Vertical units associated with geospatial_vertical_* attributes",
          "example": "m",
          "title": "Geospatial Vertical Units",
          "type": "string"
        },
        "geospatial_vertical_positive": {
          "description": "Positive direction of geospatial_vertical_* attributes",
          "example": "up",
          "title": "Geospatial Vertical Positive",
          "type": "string"
        },
        "id": {
          "description": "filename without extension, needs to be globally unique w/ naming_authority",
          "example": "core[-type]_faam_<yyyymmdd>[_vNNN]_rN[_Nhz]",
          "title": "Id",
          "type": "string"
        },
        "institution": {
          "description": "The institute responsible for the creation of this data. Should read: FAAM Airborne Laboratory for FAAM data.",
          "example": "FAAM Airborne Laboratory",
          "title": "Institution",
          "type": "string"
        },
        "keywords": {
          "description": "A comma separated list of keywords from the GCMD",
          "example": "keyword1, keyword2",
          "title": "Keywords",
          "type": "string"
        },
        "keywords_vocabulary": {
          "description": "Controlled vocabulary for keywords. Should read Global Change Master Directory (GCMD)",
          "example": "Global Change Master Directory (GCMD)",
          "title": "Keywords Vocabulary",
          "type": "string"
        },
        "license": {
          "description": "The license for this data. Should read: UK Government Open Licence agreement - http://www.nationalarchives.gov.uk/doc/open-government-licence",
          "example": "UK Government Open Licence agreement - http://www.nationalarchives.gov.uk/doc/open-government-licence",
          "title": "License",
          "type": "string"
        },
        "metadata_link": {
          "description": "A link to a release of a controlled vocabulary of metadata attributes",
          "example": "https://github.com/FAAM-146/faam-data/releases/tag/vX.Y",
          "title": "Metadata Link",
          "type": "string"
        },
        "naming_authority": {
          "description": "The authority responsible for naming this data. Should read uk.ac.faam",
          "example": "uk.ac.faam",
          "title": "Naming Authority",
          "type": "string"
        },
        "platform": {
          "description": "Platform name of the FAAM aircraft. Should read: FAAM BAe-146-301 Atmospheric Research Aircraft",
          "example": "FAAM BAe-146-301 Atmospheric Research Aircraft",
          "title": "Platform",
          "type": "string"
        },
        "platform_type": {
          "description": "Platform type: aircraft",
          "example": "aircraft",
          "title": "Platform Type",
          "type": "string"
        },
        "project": {
          "description": "The project a flight was for. Expected to be of the form <project_acronym> - <project_name>",
          "example": "PROJECT: A project with a long title",
          "title": "Project",
          "type": "string"
        },
        "publisher_email": {
          "description": "The email address of the data publisher",
          "example": "support@ceda.ac.uk",
          "title": "Publisher Email",
          "type": "string"
        },
        "publisher_institution": {
          "description": "The institution responsible for publishing data. Should read: CEDA",
          "example": "CEDA",
          "title": "Publisher Institution",
          "type": "string"
        },
        "publisher_type": {
          "description": "Type of entity responsible for publishing data. Should be institution",
          "example": "institution",
          "title": "Publisher Type",
          "type": "string"
        },
        "publisher_url": {
          "description": "The URL of the data publisher. Should be https://www.ceda.ac.uk",
          "example": "https://www.ceda.ac.uk",
          "title": "Publisher Url",
          "type": "string"
        },
        "references": {
          "description": "A list of references relevant to the file",
          "example": "https://www.faam.ac.uk https://www.ceda.ac.uk",
          "title": "References",
          "type": "string"
        },
        "revision_date": {
          "anyOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "format": "date",
              "type": "string"
            }
          ],
          "description": "The date this revision created. Analogous to date_created",
          "example": "1970-01-01T06:00:00Z",
          "title": "Revision Date"
        },
        "revision_number": {
          "description": "The revision number of the dataset. Starts at 0, increments by 1 for each revision",
          "example": 0,
          "minimum": 0,
          "title": "Revision Number",
          "type": "integer"
        },
        "source": {
          "description": "A description of the source of the data. An instrument where this makes sense, otherwise a description of how data obtained",
          "example": "description of how data obtained",
          "title": "Source",
          "type": "string"
        },
        "standard_name_vocabulary": {
          "description": "A vocabulary of standard names. Expected to be a CF standard name table, e.g. CF Standard Name Table v78",
          "example": "CF Standard Name Table v7",
          "pattern": "CF Standard Name Table v[0-9]+",
          "title": "Standard Name Vocabulary",
          "type": "string"
        },
        "summary": {
          "description": "A brief summary of the data",
          "example": "Data obtained on FAAM aircraft during flight a001",
          "title": "Summary",
          "type": "string"
        },
        "time_coverage_duration": {
          "description": "The duration of the data, in ISO8601 duration format",
          "example": "PT1H",
          "format": "duration",
          "title": "Time Coverage Duration",
          "type": "string"
        },
        "time_coverage_start": {
          "description": "The start time of the data in the file, in ISO8601 format",
          "example": "1970-01-01T00:00:00Z",
          "format": "date-time",
          "title": "Time Coverage Start",
          "type": "string"
        },
        "time_coverage_end": {
          "description": "The end time of the data in the file, in ISO8601 format",
          "example": "1970-01-01T01:00:00Z",
          "format": "date-time",
          "title": "Time Coverage End",
          "type": "string"
        },
        "title": {
          "description": "A brief title for the dataset",
          "example": "Data from flight a001",
          "title": "Title",
          "type": "string"
        },
        "uuid": {
          "description": "V3 UUID: MD5 hash of id+date_created",
          "example": "9bceaff5-9991-85c6-bca5-d8c0393dc60d",
          "format": "uuid",
          "title": "Uuid",
          "type": "string"
        },
        "calibration_date": {
          "anyOf": [
            {
              "format": "date",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Calibration date, where this applies to all file contents",
          "example": "1970-01-01",
          "title": "Calibration Date"
        },
        "calibration_information": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Calibration information, where this applies all file contents",
          "example": "Calibrated at lab X using method Y",
          "title": "Calibration Information"
        },
        "calibration_url": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Permanent URI or DOI linking to calibration info, where this applies to all file contents",
          "example": "dx.doi.org/00.0000/0000000",
          "title": "Calibration Url"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Comment about data",
          "example": "A comment about the data",
          "title": "Comment"
        },
        "constants_file": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of external file providing input to processing software",
          "example": "flight-cst_faam_19700101_r0_a001.yaml",
          "title": "Constants File"
        },
        "creator_url": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Institutional URL or researcher ORCID URL",
          "example": "https://orcid.org/0000-0000-0000-0000",
          "title": "Creator Url"
        },
        "deployment_mode": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Mode of deployment. Should always be \"air\"",
          "example": "air",
          "title": "Deployment Mode"
        },
        "external_variables": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Blank separated list of variables used from an external file",
          "example": "PS_RVSM TAT_DI_R",
          "title": "External Variables"
        },
        "history": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Logs modifications to file since production",
          "example": "1970-01-01T00:00:00Z some_prog -i myfile -o myfile",
          "title": "History"
        },
        "instrument": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where all data id from a single instrument. Currently freeform, controlled instrument vocab to follow",
          "example": "Some instrument",
          "title": "Instrument"
        },
        "instrument_description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where all data are from a single instrument. Textual description.",
          "example": "X type instrument, measuring Y using method Z",
          "title": "Instrument Description"
        },
        "instrument_location": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where all data are from a single instrument. Location of instrument on aircraft",
          "example": "Instrument location",
          "title": "Instrument Location"
        },
        "instrument_manufacturer": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where all data are from a single instrument. Instrument manufacturer",
          "example": "Instrument Manufacturing Ltd.",
          "title": "Instrument Manufacturer"
        },
        "instrument_model": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where all data are from a single instrument. Instrument model",
          "example": "Model 1.2.3",
          "title": "Instrument Model"
        },
        "instrument_serial_number": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where all data are from a single instrument. Instrument serial number",
          "example": "SN123",
          "title": "Instrument Serial Number"
        },
        "instrument_software": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where all data are from a single instrument. Name of software deployed on instrument",
          "example": "Instrument software name",
          "title": "Instrument Software"
        },
        "instrument_software_version": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where all data are from a single instrument. Version of software deployed on instrument",
          "example": "v1.2.3",
          "title": "Instrument Software Version"
        },
        "notes": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Notes on this data file. For more detailed info than comment",
          "example": "Some longer form notes about this file",
          "title": "Notes"
        },
        "processing_software_commit": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Commit hash for processing software in vcs",
          "example": "2a83fc2394b",
          "title": "Processing Software Commit"
        },
        "processing_software_doi": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "DOI of the processing doftware release, if available",
          "example": "dx.doi.org/00.0000/0000000",
          "title": "Processing Software Doi"
        },
        "processing_software_url": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "URL pointing to processing software source code, if available",
          "example": "https://github.com/my-user/my_repo",
          "title": "Processing Software Url"
        },
        "processing_software_version": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Version of processing software",
          "example": "v1.2.3",
          "title": "Processing Software Version"
        },
        "project_acronym": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Project acronym",
          "example": "PROJECT",
          "title": "Project Acronym"
        },
        "project_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Full project name",
          "example": "A long project name",
          "title": "Project Name"
        },
        "project_principal_investigator": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name(s) of project PIs. Comma separated if more than one",
          "example": "A. N. Other",
          "title": "Project Principal Investigator"
        },
        "project_principal_investigator_email": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Email address(es) of project PIs. Comma separated if more than one",
          "example": "a.n.other@institute.ac.uk",
          "title": "Project Principal Investigator Email"
        },
        "project_principal_investigator_url": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "ORCID URL(s) of project PIs. Comma separated if more than one",
          "example": "https://orcid.org/0000-0000-0000-0000",
          "title": "Project Principal Investigator Url"
        },
        "revision_comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Brief description of changes between revisions",
          "example": "Corrected processing of variable X by doing Y",
          "title": "Revision Comment"
        },
        "source_files": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "List of source files used in the processing of this data product",
          "example": "file1.ext file2.ext",
          "title": "Source Files"
        },
        "time_coverage_resolution": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Resolution of data, where this is uniform across the file",
          "example": "1S",
          "title": "Time Coverage Resolution"
        },
        "processing_level": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Processing level of data, where it is uniform for all data in the file",
          "example": 2,
          "title": "Processing Level"
        }
      },
      "required": [
        "Conventions",
        "acknowledgement",
        "creator_address",
        "creator_email",
        "creator_institution",
        "creator_name",
        "creator_type",
        "date",
        "date_created",
        "flight_date",
        "flight_number",
        "geospatial_bounds",
        "geospatial_bounds_crs",
        "geospatial_lat_max",
        "geospatial_lat_min",
        "geospatial_lat_units",
        "geospatial_lon_max",
        "geospatial_lon_min",
        "geospatial_lon_units",
        "geospatial_vertical_max",
        "geospatial_vertical_min",
        "geospatial_vertical_units",
        "geospatial_vertical_positive",
        "id",
        "institution",
        "keywords",
        "keywords_vocabulary",
        "license",
        "metadata_link",
        "naming_authority",
        "platform",
        "platform_type",
        "project",
        "publisher_email",
        "publisher_institution",
        "publisher_type",
        "publisher_url",
        "references",
        "revision_date",
        "revision_number",
        "source",
        "standard_name_vocabulary",
        "summary",
        "time_coverage_duration",
        "time_coverage_start",
        "time_coverage_end",
        "title",
        "uuid"
      ],
      "title": "FAAM Global Metadata Schema",
      "type": "object"
    },
    "Group": {
      "properties": {
        "meta": {
          "$ref": "#/$defs/GroupMeta"
        },
        "attributes": {
          "$ref": "#/$defs/GroupAttributes"
        },
        "dimensions": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/Dimension"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Dimensions"
        },
        "groups": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/Group"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Groups"
        },
        "variables": {
          "items": {
            "$ref": "#/$defs/Variable"
          },
          "title": "Variables",
          "type": "array"
        }
      },
      "required": [
        "meta",
        "attributes",
        "variables"
      ],
      "title": "Group Schema",
      "type": "object"
    },
    "GroupAttributes": {
      "properties": {
        "calibration_date": {
          "anyOf": [
            {
              "format": "date",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Calibration date, where this applies to whole group",
          "example": "1970-01-01",
          "title": "Calibration Date"
        },
        "calibration_information": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Calibration information, where this applies whole group",
          "example": "Calibrated at lab X using method Y",
          "title": "Calibration Information"
        },
        "calibration_url": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Permanent URI or DOI linking to calibration info, where this applies to whole group",
          "example": "dx.doi.org/00.0000/0000000",
          "title": "Calibration Url"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Comment about data",
          "example": "A comment about the data",
          "title": "Comment"
        },
        "instrument": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Currently freeform, controlled instrument vocab to follow",
          "example": "Some instrument",
          "title": "Instrument"
        },
        "instrument_description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Textual description.",
          "example": "X type instrument, measuring Y using method Z",
          "title": "Instrument Description"
        },
        "instrument_location": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Location of instrument on aircraft",
          "example": "Instrument location",
          "title": "Instrument Location"
        },
        "instrument_manufacturer": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Instrument manufacturer",
          "example": "Instrument Manufacturing Ltd.",
          "title": "Instrument Manufacturer"
        },
        "instrument_model": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Instrument model",
          "example": "Model 1.2.3",
          "title": "Instrument Model"
        },
        "instrument_serial_number": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Instrument serial number",
          "example": "SN123",
          "title": "Instrument Serial Number"
        },
        "instrument_software": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Name of softeare deployed on instrument",
          "example": "Instrument software name",
          "title": "Instrument Software"
        },
        "instrument_software_version": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Version of software deployed on instrument",
          "example": "v1.2.3",
          "title": "Instrument Software Version"
        },
        "notes": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Notes on this group. For more detailed info than comment",
          "example": "Some longer form notes about this file",
          "title": "Notes"
        },
        "source_files": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "List of source files used in the processing of this group",
          "example": "file1.ext file2.ext",
          "title": "Source Files"
        },
        "references": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A list of references relevant to the group",
          "example": "https://www.faam.ac.uk https://www.ceda.ac.uk",
          "title": "References"
        },
        "processing_level": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Processing level of data, where it is uniform for all data in the group",
          "example": "2",
          "title": "Processing Level"
        },
        "source": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A description of the source of the data. An instrument where this makes sense, otherwise a description of how data obtained",
          "example": "description of how data obtained",
          "title": "Source"
        },
        "summary": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A brief summary of the data",
          "example": "Data obtained on FAAM aircraft during flight a001",
          "title": "Summary"
        }
      },
      "title": "FAAM Group Attributes",
      "type": "object"
    },
    "GroupMeta": {
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "title": "Group Metadata",
      "type": "object"
    },
    "Variable": {
      "properties": {
        "meta": {
          "$ref": "#/$defs/VariableMeta"
        },
        "dimensions": {
          "items": {
            "type": "string"
          },
          "title": "Dimensions",
          "type": "array"
        },
        "attributes": {
          "$ref": "#/$defs/VariableAttributes"
        }
      },
      "required": [
        "meta",
        "dimensions",
        "attributes"
      ],
      "title": "Variable",
      "type": "object"
    },
    "VariableAttributes": {
      "properties": {
        "_FillValue": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "number"
            }
          ],
          "description": "The prefill/missing data value",
          "example": -9999,
          "ppodd_default": -9999,
          "title": "Fillvalue"
        },
        "coverage_content_type": {
          "description": "ISO 19115-1 code. One of image, thematicClassification, physicalMeasurement, auxiliaryInformation, qualityInformation, referenceInformation, modelResult, coordinate",
          "example": "physicalMeasurement",
          "ppodd_default": "physicalMeasurement",
          "title": "Coverage Content Type",
          "type": "string"
        },
        "frequency": {
          "description": "The frequency of the data. Where this is >1, will typically correspond to an spsNN dimension",
          "example": 1,
          "title": "Frequency",
          "type": "integer"
        },
        "long_name": {
          "description": "A longer, descriptive name for the variable",
          "example": "Temperature from deiced temperature probe",
          "title": "Long Name",
          "type": "string"
        },
        "units": {
          "description": "Valid UDUNITS unit. Where a standard_name is given, must be equivalent to canonical units",
          "example": "K",
          "title": "Units",
          "type": "string"
        },
        "axis": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Axis for coordinate variables. Should be one of X, Y, Z, T",
          "example": "X",
          "title": "Axis"
        },
        "actual_range": {
          "anyOf": [
            {
              "items": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "integer"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A length 2 array, of the same datatype as the variable, giving the maximum and minimum valid values",
          "example": [
            0,
            1
          ],
          "ppodd_default": "<call range>",
          "title": "Actual Range"
        },
        "add_offset": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Offset for packing. Default is 0",
          "example": 0,
          "title": "Add Offset"
        },
        "ancillary_variables": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional in no ancillary variables, otherwise required. Ancillary variables e.g. flags, uncertainties",
          "example": "PS_RVSM TAT_DI_R",
          "title": "Ancillary Variables"
        },
        "calendar": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Required for the time coordinate variable. Should be one of standard, gregorian",
          "example": "standard",
          "title": "Calendar"
        },
        "calibration_date": {
          "anyOf": [
            {
              "format": "date",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Calibration date, where this applies to variable",
          "example": "1970-01-01",
          "title": "Calibration Date"
        },
        "calibration_information": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Calibration information, where this applies variable",
          "example": "Calibrated at lab X using method Y",
          "title": "Calibration Information"
        },
        "calibration_url": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Permanent URI or DOI linking to calibration info, where this applies to variable",
          "example": "dx.doi.org/00.0000/0000000",
          "title": "Calibration Url"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Comment about data",
          "example": "A comment about the data",
          "title": "Comment"
        },
        "coordinates": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Blank separated list of coordinate variables",
          "example": "latitude longitude altitude time",
          "title": "Coordinates"
        },
        "flag_masks": {
          "anyOf": [
            {
              "items": {
                "type": "integer"
              },
              "type": "array"
            },
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Allowed flag mask values. Required for bitmask style flags",
          "example": [
            1,
            2,
            4
          ],
          "title": "Flag Masks"
        },
        "flag_meanings": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Blank separated list of flag meanings. Required for flag variables",
          "example": "data_good possible_minor_issue possible_major_issue",
          "title": "Flag Meanings"
        },
        "flag_values": {
          "anyOf": [
            {
              "items": {
                "type": "integer"
              },
              "type": "array"
            },
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Allowed flag values. Required for classic flags",
          "example": [
            0,
            1,
            2
          ],
          "title": "Flag Values"
        },
        "instrument_description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Textual description of instrument.",
          "example": "X type instrument, measuring Y using method Z",
          "title": "Instrument Description"
        },
        "instrument_location": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where variable is derived from a single instrument. Location of instrument on aircraft",
          "example": "Instrument location",
          "title": "Instrument Location"
        },
        "instrument_manufacturer": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where variable is derived from a single instrument. Instrument manufacturer",
          "example": "Instrument Manufacturing Ltd.",
          "title": "Instrument Manufacturer"
        },
        "instrument_model": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where variable is derived from a single instrument. Instrument model number",
          "example": "Model 1.2.3",
          "title": "Instrument Model"
        },
        "instrument_serial_number": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where variable is derived from a single instrument. Instrument serial number",
          "example": "SN123",
          "title": "Instrument Serial Number"
        },
        "instrument_software": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where variable is derived from a single instrument. Name of software deploed on instrument",
          "example": "Instrument software name",
          "title": "Instrument Software"
        },
        "instrument_software_version": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where all data in the group are from a single instrument. Version of software deployed on instrument",
          "example": "v1.2.3",
          "title": "Instrument Software Version"
        },
        "sensor_manufacturer": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Similar to instrument_manufacturer, but where the item is more accurately described as a sensor",
          "example": "Sensor Manufacturing Ltd.",
          "title": "Sensor Manufacturer"
        },
        "sensor_model": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Similar to instrument_model, but where the item is more accurately described as a sensor",
          "example": "Model 1.2.3",
          "title": "Sensor Model"
        },
        "sensor_serial_number": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Where variable is derived from a single sensor, similar to instrument_serial_number. Sensor serial number.",
          "example": "SN123",
          "title": "Sensor Serial Number"
        },
        "sensor_type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The type of sensor fitted, where different sensor types may be used to produce the same measurement. A canonical example of this is the type of temperature sensor in the Rosemount housings.",
          "example": "plate",
          "title": "Sensor Type"
        },
        "positive": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Applies to vertical coordinate. Should be \"up\" if included",
          "example": "up",
          "title": "Positive"
        },
        "scale_factor": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Scale for packing. Default is 1",
          "example": 1,
          "title": "Scale Factor"
        },
        "standard_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "See CF standard names list. Should be used whenever possible",
          "example": "air_temperature",
          "title": "Standard Name"
        },
        "valid_max": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Recommended where feasible. Where both valid_min and valid_max make sense, valid_range is preferred.",
          "example": 1,
          "title": "Valid Max"
        },
        "valid_min": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Recommended where feasible. Where both valid_min and valid_max make sense, valid_range is preferred.",
          "example": 0,
          "title": "Valid Min"
        },
        "valid_range": {
          "anyOf": [
            {
              "items": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "integer"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A length 2 array of the same datatype as the variable, giving minimum and maximum valid values",
          "example": [
            0,
            1
          ],
          "max_items": 2,
          "min_items": 2,
          "title": "Valid Range"
        },
        "processing_level": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Processing level of variable data",
          "example": "2",
          "title": "Processing Level"
        }
      },
      "required": [
        "_FillValue",
        "coverage_content_type",
        "frequency",
        "long_name",
        "units"
      ],
      "title": "Variable Attributes",
      "type": "object"
    },
    "VariableMeta": {
      "properties": {
        "datatype": {
          "description": "The type of the data",
          "title": "Datatype",
          "type": "string"
        },
        "name": {
          "title": "Name",
          "type": "string"
        },
        "required": {
          "default": true,
          "title": "Required",
          "type": "boolean"
        }
      },
      "required": [
        "datatype",
        "name"
      ],
      "title": "VariableMeta",
      "type": "object"
    }
  },
  "properties": {
    "meta": {
      "$ref": "#/$defs/DatasetMeta"
    },
    "attributes": {
      "$ref": "#/$defs/GlobalAttributes"
    },
    "dimensions": {
      "items": {
        "$ref": "#/$defs/Dimension"
      },
      "title": "Dimensions",
      "type": "array"
    },
    "groups": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/$defs/Group"
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Groups"
    },
    "variables": {
      "items": {
        "$ref": "#/$defs/Variable"
      },
      "title": "Variables",
      "type": "array"
    }
  },
  "required": [
    "meta",
    "attributes",
    "dimensions",
    "variables"
  ],
  "title": "FAAM Dataset Schema",
  "type": "object"
}